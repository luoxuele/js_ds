<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>
<script>
    /*
    * 1. 同步和异步的区别是什么
    * 2  手写用Promise加载一张图片
    * 3. 前端异步使用的场景
    * */

    // 1.答
    // 1. 基于js是单线程语言
    // 2. 异步不会阻塞代码执行
    // 3. 同步会阻塞代码执行


    // 2.答


    function loadImg(src){
        return new Promise((resolve, reject) =>{
            const img = document.createElement('img');
            img.onload = ()=>{
                resolve(img);
            }
            img.onerror = ()=>{
                const err = new Error(`图片加载失败 ${src}`);
                reject(err)
            }

            img.src = src;
        });
    }

    const url = `https://p.ssl.qhimg.com/dmfd/400_300_/t01548479848e8bfcb0.jpg`

    loadImg(url).then(img=>{
        console.log(img.width)
        return img
    }).then(img=>{
        console.log(img.height);
    }).catch(ex => console.error(ex))

    //console.log("呵呵呵");

    //3. 答
    //1. 网络请求
    //2. 定时任务
    //promise解决callback hell嵌套的问题

    //4. setTimeout 笔试题
    console.log(1);
    setTimeout(()=>{
        console.log(2);
    },1000);
    console.log(3);
    setTimeout(()=>{
        console.log(4);
    },0);
    console.log(5);
    //1,3,5,4,2


</script>

</body>
</html>